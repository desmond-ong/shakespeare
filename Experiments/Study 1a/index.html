<!-- Sets up templates for the actual "slides" and forms that are 
supposed to be shown at each stage of the experiment. -->

<html>
<head>
  <title>Start page</title>
<script src="https://web.stanford.edu/~dco/common/jquery.min.js"></script>
<script src="https://web.stanford.edu/~dco/common/mmturkey.0.5.js?nowarn"></script>
<link rel="stylesheet" href="https://web.stanford.edu/~dco/common/style.css" />
<style type="text/css">
.slide, #instructions, #wheel {
    min-width: 600px;
}    
</style>
<!-- <link rel="stylesheet" href="style.css" /> -->
</head>
<body>
<div class="progress" id="progressBar">
	<div class="bar-wrapper">
	  <div class="bar"></div>
	</div>
	<p>Progress bar: <span id="trial-num">{{}}</span><span>/</span><span id="total-num">{{}}</span></p>
</div>

<div class="slide" id="instructions">
  <img src="https://www.stanford.edu/~dco/common/images/stanford.png" alt="Stanford University">
    <p id='logo-text'>Stanford Computation and Cognition Lab</p>
  <p class="block-text">
  In this study, we are interested in how
  people read stories and make judgments about emotions.
  </p>
  <button type="button" onclick="this.blur(); experiment.description()">Start</button>
    <p class="block-text" id="legal">Legal information: By answering the
    following questions, you are participating in a study being performed by
    cognitive scientists in the Stanford Department of Psychology. If you have
    questions about this research, please contact <b>Desmond Ong</b> at <a
    href="mailto://desmond.ong@stanford.edu">desmond.ong@stanford.edu</a> or Noah
    Goodman, at ngoodman@stanford.edu. You must be  at least 18 years old to
    participate. Your participation in this research is voluntary. You may
    decline to answer any or all of the following questions. You may decline
    further participation, at any time, without adverse consequences. Your
    anonymity is assured; the researchers who have requested your
    participation will not receive any personal information about you.
    </p>
</div>

<script LANGUAGE="JavaScript">
<!--
function ValidateForm(form){
    var valid = 0;
    for(var i = 0; i < form.elements.length; i++) {
        if (form.elements[i].checked == true ) { 
            valid = 1; 
            return true;
        } 
    } 
    if (valid == 0) {
        alert ( "Please answer this question." );
        return false; 
    }
}

function ValidateCorrect(form){
    if (form.elements[0].checked == true ) { 
        return true;
    } 
	alert ( "Please make sure you understood the question correctly!" );
    return false; 
}

function ValidateSelect(form) {
    if (form.ageRange.selectedIndex != 0 && form.ageRange.selectedIndex != 1 && form.ageRange.selectedIndex != 2 && form.ageRange.selectedIndex != 3 && form.ageRange.selectedIndex != 4 && form.ageRange.selectedIndex != 5 && form.ageRange.selectedIndex != 6) {
        alert ( "Please answer this question." );
        return false;
    }
    return true; 
}


function ValidateNumber(field)
{
    valid = true;
    if (field.value == "")
    {
        alert ("Please answer all the questions.");
        valid = false;
    }
    if (field.value < 0 || field.value > 10) {
    	alert ("Please answer between 0 and 10.");
    	valid = false;
    }
    if (isNaN(field.value)) {
        alert ("Please answer using only numbers.");
        valid = false;
    }
    return valid;

}

function checkPreview() {
    if (turk.previewMode) {
        alert ("Please accept this HIT to see more questions.");
        return false;
    }
    return true;
}

function ValidateText(field)
{
    valid = true;

    if (field.value == "" )
    {
        alert ("Please answer all the questions.");
        valid = false;
    }

    return valid;
}

/*
function pressEnter(e) {
    if (e.keyCode == 13) {
    	document.rating.next.click();
    	return false;
    }
}
*/


function ValidateFreeResponse() {
    
    if ($('#freeResponseInput1').val().length > 3 &&
        $('#freeResponseInput2').val().length > 3 &&
        $('#freeResponseInput3').val().length > 3 &&
        $('#freeResponseInput4').val().length > 3 &&
        $('#freeResponseInput5').val().length > 3)
    //if ($('#freeResponseInput').val()!=null)
    {
        return true;
    } else {
        alert ( "Please provide more details." );
        //alert ( "Please answer the question." );
        return false;    
    }
}

function ValidateDemographicForm() {
        if ($('input[name="genderButton"]:checked').val()!=null) {
        return true;
    } else {
        alert ( "Please answer all the questions." );
        return false;    
    }
}

function ValidateCounterfactualExample() {
    if ($('input[name="example1Button"]:checked').val()!=null) {
        return true;
    } else {
        alert ( "Please answer all the questions." );
        return false;    
    }
}

function ValidateCounterfactual() {
    if ($('input[name="counterfactualButton1"]:checked').val()!=null && 
        $('input[name="counterfactualButton2"]:checked').val()!=null && 
        $('input[name="counterfactualButton3"]:checked').val()!=null && 
        $('input[name="counterfactualButton4"]:checked').val()!=null && 
        $('input[name="counterfactualButton5"]:checked').val()!=null) {
        return true;
    } else {
        alert ( "Please answer all the questions." );
        return false;    
    }
}

</script>


<div class="slide" id="description">
<p id='logo-text'>Instructions</p>
<p class="block-text"> We are interested in how people think about other people's emotions. </p>
<p class="block-text"> You will read <span id="tot-num">{{}}</span> short sentences and fill in what you think happened. 
After that, you will then answer some questions regarding your responses. </p>

<div id="form">
<button type="button" onclick="this.blur(); experiment.next()">Let's Start!</button>
</div>
</div>


<div class="slide" id="stage">
    
    <div id="response">
            <p id="question">
                Fill in the blanks in the following sentence. Please give 5 <b>different</b> completions!
            </p>
            <div id="prompt-texts-outer" style="text-align: center; min-width: 500px;">
                <div id="prompt-texts" style="display: inline-block; text-align: right"> 
        <!-- <center> -->
            <p id="block-text"><span id="CharName1"></span> 
                <textarea name="freeResponseInput1" id="freeResponseInput1" ROWS=1 COLS=50></textarea> 
                because he was <b><span id="emotionSpan1"></span></b>.
            </p>
            <p id="block-text"><span id="CharName2"></span> 
                <textarea name="freeResponseInput2" id="freeResponseInput2" ROWS=1 COLS=50></textarea> 
                because he was <b><span id="emotionSpan2"></span></b>.
            </p>
            <p id="block-text"><span id="CharName3"></span> 
                <textarea name="freeResponseInput3" id="freeResponseInput3" ROWS=1 COLS=50></textarea> 
                because he was <b><span id="emotionSpan3"></span></b>.
            </p>
            <p id="block-text"><span id="CharName4"></span> 
                <textarea name="freeResponseInput4" id="freeResponseInput4" ROWS=1 COLS=50></textarea> 
                because he was <b><span id="emotionSpan4"></span></b>.
            </p>
            <p id="block-text"><span id="CharName5"></span> 
                <textarea name="freeResponseInput5" id="freeResponseInput5" ROWS=1 COLS=50></textarea> 
                because he was <b><span id="emotionSpan5"></span></b>.
            </p>
        <!-- </center> -->
            </div> 
        </div>
        <div id="form">
        

        <br>
        <button type="button" id="next" onclick="this.blur(); if (ValidateFreeResponse()) {experiment.next();}">Next</button>
        
        </div>
    </div>
</div>


<div class="slide" id="counterfactualExample">
    <p id="question"> Next we'll just ask you one question regarding each short story that you wrote: would the person still have done the action you described, if they did not feel the emotion?  </p>
    
    <center>
        <p id="emphasis-text"> For example, imagine another Turker wrote the following short sentence: "Zach cried because he was sad." </p>
    </center>
    
    <p id="question"> <b> If Zach was not sad, would he still have cried? </b>
    <br><br>
    What do you think? Please use the radio buttons below to indicate how likely it is that Zach would still have cried, if he was not sad.
    </p>

    <div name="example1" style="text-align: center;">
        Very Unlikely 
        <input type="radio" name="example1Button" value="1" /> 
        <input type="radio" name="example1Button" value="2" /> 
        <input type="radio" name="example1Button" value="3" /> 
    	<input type="radio" name="example1Button" value="4" /> 
    	<input type="radio" name="example1Button" value="5" /> 
        <input type="radio" name="example1Button" value="6" /> 
        <input type="radio" name="example1Button" value="7" /> 
        Very Likely
    </div>

	<br>
    <center>
    	<button type="button" id="next" onclick="this.blur(); if (ValidateCounterfactualExample()){experiment.askCounterfactual();}">Next</button>
    </center>
</div>


<div class="slide" id="askCounterfactual">
    <div id="form">
    <p id="question"> Now, do the same with your sentence completions! </p>
    <hr>

	<span id="question"> You wrote the following sentence:</p>
	<p id="emphasis-text">
    "<i><span id="CharName1a">{{}}</span> <span id="exp1a">{{}}</span> because he was feeling <span id="emotionSpan1a">{{}}</span></i>"
    </p>
    
    <p id="question">
        If <span id="CharName1b">{{}}</span> was <b>not feeling <span id="emotionSpan1b">{{}}</span></b>, would he still have <i><span id="exp1b">{{}}</span></i>?
    </p>

    <div name="counterfactualQuestion1" style="text-align: center;">
        Very Unlikely 
        <input type="radio" name="counterfactualButton1" value="1" /> 
        <input type="radio" name="counterfactualButton1" value="2" /> 
        <input type="radio" name="counterfactualButton1" value="3" /> 
        <input type="radio" name="counterfactualButton1" value="4" /> 
        <input type="radio" name="counterfactualButton1" value="5" /> 
        <input type="radio" name="counterfactualButton1" value="6" /> 
        <input type="radio" name="counterfactualButton1" value="7" /> 
        Very Likely
    </div>
    <br><br>
    <hr>
    <br><br>

    <span id="question"> You wrote the following sentence:</p>
    <p id="emphasis-text">
    "<i><span id="CharName2a">{{}}</span> <span id="exp2a">{{}}</span> because he was feeling <span id="emotionSpan2a">{{}}</span></i>"
    </p>
    
    <p id="question">
        If <span id="CharName2b">{{}}</span> was <b>not feeling <span id="emotionSpan2b">{{}}</span></b>, would he still have <i><span id="exp2b">{{}}</span></i>?
    </p>

    <div name="counterfactualQuestion2" style="text-align: center;">
        Very Unlikely 
        <input type="radio" name="counterfactualButton2" value="1" /> 
        <input type="radio" name="counterfactualButton2" value="2" /> 
        <input type="radio" name="counterfactualButton2" value="3" /> 
        <input type="radio" name="counterfactualButton2" value="4" /> 
        <input type="radio" name="counterfactualButton2" value="5" /> 
        <input type="radio" name="counterfactualButton2" value="6" /> 
        <input type="radio" name="counterfactualButton2" value="7" /> 
        Very Likely
    </div>
    <br><br>
    <hr>
    <br><br>

    <span id="question"> You wrote the following sentence:</p>
    <p id="emphasis-text">
    "<i><span id="CharName3a">{{}}</span> <span id="exp3a">{{}}</span> because he was feeling <span id="emotionSpan3a">{{}}</span></i>"
    </p>
    
    <p id="question">
        If <span id="CharName3b">{{}}</span> was <b>not feeling <span id="emotionSpan3b">{{}}</span></b>, would he still have <i><span id="exp3b">{{}}</span></i>?
    </p>

    <div name="counterfactualQuestion3" style="text-align: center;">
        Very Unlikely 
        <input type="radio" name="counterfactualButton3" value="1" /> 
        <input type="radio" name="counterfactualButton3" value="2" /> 
        <input type="radio" name="counterfactualButton3" value="3" /> 
        <input type="radio" name="counterfactualButton3" value="4" /> 
        <input type="radio" name="counterfactualButton3" value="5" /> 
        <input type="radio" name="counterfactualButton3" value="6" /> 
        <input type="radio" name="counterfactualButton3" value="7" /> 
        Very Likely
    </div>
    <br><br>
    <hr>
    <br><br>

    <span id="question"> You wrote the following sentence:</p>
    <p id="emphasis-text">
    "<i><span id="CharName4a">{{}}</span> <span id="exp4a">{{}}</span> because he was feeling <span id="emotionSpan4a">{{}}</span></i>"
    </p>
    
    <p id="question">
        If <span id="CharName4b">{{}}</span> was <b>not feeling <span id="emotionSpan4b">{{}}</span></b>, would he still have <i><span id="exp4b">{{}}</span></i>?
    </p>

    <div name="counterfactualQuestion4" style="text-align: center;">
        Very Unlikely 
        <input type="radio" name="counterfactualButton4" value="1" /> 
        <input type="radio" name="counterfactualButton4" value="2" /> 
        <input type="radio" name="counterfactualButton4" value="3" /> 
        <input type="radio" name="counterfactualButton4" value="4" /> 
        <input type="radio" name="counterfactualButton4" value="5" /> 
        <input type="radio" name="counterfactualButton4" value="6" /> 
        <input type="radio" name="counterfactualButton4" value="7" /> 
        Very Likely
    </div>
    <br><br>
    <hr>
    <br><br>

    <span id="question"> You wrote the following sentence:</p>
    <p id="emphasis-text">
    "<i><span id="CharName5a">{{}}</span> <span id="exp5a">{{}}</span> because he was feeling <span id="emotionSpan5a">{{}}</span></i>"
    </p>
    
    <p id="question">
        If <span id="CharName5b">{{}}</span> was <b>not feeling <span id="emotionSpan5b">{{}}</span></b>, would he still have <i><span id="exp5b">{{}}</span></i>?
    </p>

    <div name="counterfactualQuestion5" style="text-align: center;">
        Very Unlikely 
        <input type="radio" name="counterfactualButton5" value="1" /> 
        <input type="radio" name="counterfactualButton5" value="2" /> 
        <input type="radio" name="counterfactualButton5" value="3" /> 
        <input type="radio" name="counterfactualButton5" value="4" /> 
        <input type="radio" name="counterfactualButton5" value="5" /> 
        <input type="radio" name="counterfactualButton5" value="6" /> 
        <input type="radio" name="counterfactualButton5" value="7" /> 
        Very Likely
    </div>
    <br><br>

    

        <button type="button" onclick="this.blur(); if (ValidateCounterfactual()){experiment.askCounterfactual();}">Next</button>
    </div>
</div>

<div class="slide" id="askInfo">
    
    <div id="form">
    
    <p id="infoQ">Please answer a few questions about yourself. </p>
    <form name="gender">
    </br>
    <span id="infoQ">What is your gender?</span>&nbsp;&nbsp;
    <input type="radio" name="genderButton" value="M" /><span id="opt">Male</span>&nbsp;&nbsp;
    <input type="radio" name="genderButton" value="F" /><span id="opt">Female</span>
    </form>
    
    <form name="age">
    <span id="infoQ">What is your age range?</span>&nbsp;&nbsp;
    <select name="ageRange">
    <option value=17><span id="opt">Under 18</span></option>
    <option value=25><span id="opt">18-25</span></option>
    <option value=35><span id="opt">26-35</span></option>
    <option value=45><span id="opt">36-45</span></option>
    <option value=55><span id="opt">46-55</span></option>
    <option value=65><span id="opt">56-65</span></option>
    <option value=66><span id="opt">Above 66</span></option>
    </select>
    </form>
    
    <form name="language">
    <span id="infoQ"> What is your native language? </span>&nbsp;&nbsp;
    <input type="text" name="nativeLanguage" /><br />
    </form>
    <form name="comments">
    </br>
    </br>
    
    <span id="infoQ"> Please leave any comments or suggestions regarding this HIT:</span></br>
    <TEXTAREA name="commentsTextArea" ROWS=10 COLS=50></TEXTAREA>
    </br>
    </form>
    <!--
    <button type="button" onclick="this.blur(); experiment.end();">Submit</button>
    -->
    <button type="button" onclick="this.blur(); if (ValidateDemographicForm() && ValidateSelect(document.age) && ValidateText(document.language.nativeLanguage)) {experiment.end();}">Submit</button>
    

    </div>
</div>

<div class="slide" id="finished">
  You're finished - thanks for participating! Submitting to Mechanical Turk...
</div>

<script src="experiment.js"></script>
</body>
</html>